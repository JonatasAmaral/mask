<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, user-scalable=no">
	<title>Example</title>
	<style>
		body {
			display: flex;
			flex-direction: column;
			gap: 1rem;
		}

		fieldset input {
			margin-left: auto
		}
	</style>
</head>

<body>
	<input id="cep" type="text" placeholder="CEP" data-mask="99999-999">
	<input id="tel" type="text" placeholder="telefone">
	<input id="doc" type="text" placeholder="documento">

	<fieldset>
		<select id="tipo">
			<option selected>BRL</option>
			<option>USD</option>
		</select>
		<input id="valor" type="text" placeholder="valor" data-mask="9 999,99" value="123456">
	</fieldset>

	<script type="module">
		import Mask from '../src/mask.js'

		// static mask using data-attribute
		const cepMask = new Mask(cep);


		// static mask using string mask option
		const telMask = new Mask(tel, {
			mask: "(99) 9 9999-9999",
			init: true,
		});


		// dynamic mask, passing function as mask option
		const docMask = new Mask(doc, {
			mask: (inp) => {
				if (inp.value.replace(/\D/g, '').length > 11) {
					return "99.999.999/9999-99"
				}
				return "999.999.999-999"
			},
			triggerOnDelete: true
		});


		// change data-mask on the fly
		const placaMask = new Mask(valor, {
			dynamicDataMask: true,
			init: true,
		});
		tipo.onchange = (e) => {
			valor.dataset.mask = tipo.value === 'BRL' ? "9 999,99" : "9,999.99"
		}
	</script>
</body>

</html>
